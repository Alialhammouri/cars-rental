<% if admin_signed_in? %>
  <%= render :partial => "admins/shared/admin_nav_bar" %>
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Phone Number</th>
        <th scope="col">Email</th>
        <th scope="col">Address</th>
        <th scope="col">National ID</th>
        <th scope="col">Birthdate</th>
        <th scope="col">Verified</th>
        <th scope="col">Verify</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      <% Customer.all.each do |customer| %>
      <tr>
        <td><%= customer.id %></td>
        <th><%= customer.first_name%></th>
        <th><%= customer.last_name%></th>
        <th><%= customer.phone_number%></th>
        <th><%= customer.email%></th>
        <th><%= customer.address%></th>
        <th><%= customer.national_id%></th>
        <th><%= customer.birth_date%></th>
        <th><%= customer.verified%></th>
        <th> <% if customer.verified == false %>
             <%= button_to "Verify This Customer", admin_verify_customer_path(customer), method: :put, class: "btn btn-primary btn-sm"%>
             <% else %>
             <%= "Verified" %>
             <% end %>
        </th>
        <th><%= button_to "Delete This Customer", customer, method: :delete, class: "btn btn-danger btn-sm" %></th>
      </tr>
      <% end %>
    </tbody>
  </table>
  <footer>
    <%= button_to "Back", admins_path, :method => "get", class: "btn btn-outline-dark back-button" %>
  </footer>

  <style media="screen">

    .table{
      margin:auto;
    }

    .back-button {
      position: absolute;
      left: 15px;
      bottom: 15px;
    }

    body {
      background: -webkit-gradient(linear, left top, left bottom, from(#F0F8FF), to(#B0C4DE)) fixed;
    }
  </style>
<% else %>
  <%= render :partial => "main/shared_error" %>
<%end %>