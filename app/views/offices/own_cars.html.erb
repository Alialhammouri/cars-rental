<% if office_signed_in? %>
  <%= render :partial => "offices/shared/office_nav_bar" %>
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Car Plate Number</th>
        <th scope="col">Manufacturer</th>
        <th scope="col">Model</th>
        <th scope="col">Manufacture Year</th>
        <th scope="col">Color</th>
        <th scope="col">Renting Price</th>
        <th scope="col">Available</th>
        <th scope="col">Edit</th>
        <th scope="col">Show</th>
        <th scope="col">Delete</th>  
      </tr>
    </thead>
    <tbody>
      <% @office&.cars&.each do |car| %>
      <tr>
        <td><%= car.id %></td>
        <th><%= car.car_plate_number%></th>
        <th><%= car.manufacturer%></th>
        <th><%= car.model%></th>
        <th><%= car.manufacture_year%></th>
        <th><%= car.color%></th>
        <th><%= car.renting_price%></th>
        <th><%= car.available%></th>
        <th><%= button_to "Edit this car", edit_car_path(car), :method => "get", class: "btn btn-primary btn-sm" %></th>
        <th><%= button_to "Show this car", show_images_car_path(car), :method => "get", form: {target: '_blank'}, class: "btn btn-primary btn-sm" %></th>
        <th><%= button_to "Delete this car", car, method: :delete, class: "btn btn-danger btn-sm" %></th>
      </tr>
      <% end %>
    </tbody>
  </table>
  <footer>
    <%= button_to "Back", offices_path, :method => "get", class: "btn btn-outline-dark back-button" %>
  </footer>
  <style media="screen">

    .table{
      margin:auto;
    }

    .back-button {
      position: absolute;
      left: 15px;
      bottom: 15px;
    }

    body {
      background: -webkit-gradient(linear, left top, left bottom, from(#F0F8FF), to(#A9A9A9)) fixed;
    }
  </style>
<% else %>
  <%= render :partial => "main/shared_error" %>
<%end %>
